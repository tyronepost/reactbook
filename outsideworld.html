<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<div id="app"></div>
<script src="node_modules/react/dist/react.js"></script>
<script src="node_modules/react-dom/dist/react-dom.js"></script>
<script>

  var TextAreaCounter = React.createClass({
    propTypes: {
      defaultValue: React.PropTypes.string,
    },

    getDefaultProps: function () {
      return {
        defaultValue: '',
      };
    },

    getInitialState: function () {
      return {
        text: this.props.defaultValue,
      }
    },

    componentWillReceiveProps: function (newProps) {
      this.setState({
        text: newProps.defaultValue,
      });
    },

    _textChange: function (ev) {
      this.setState({
        text: ev.target.value,
      })
    },

    render: function () {
      return React.DOM.div(
        null,
        React.DOM.textarea({
          defaultValue: this.state.text,
          onChange: this._textChange,
        }),
        React.DOM.h3(null, this.state.text.length)
      );
    }
  });

  var myTextAreaCounter = ReactDOM.render(
    React.createElement(TextAreaCounter, {
      defaultValue: "Bob",
    }),
    document.getElementById("app")
  );
</script>
</body>
</html>